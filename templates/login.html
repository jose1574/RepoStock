{% extends 'base.html' %}

{% block title %}Iniciar sesi칩n{% endblock %}

{% block content %}
<body class="bg-gray-50 min-h-screen text-gray-800">
    <main class="max-w-4xl mx-auto p-6">
        <header class="mb-6">
            <h1 id="pageTitle" class="text-2xl font-semibold text-gray-900">Iniciar sesi칩n</h1>
            <p class="text-sm text-gray-600 mt-1">Introduce tu usuario y contrase침a para acceder al sistema.</p>
        </header>

        <section id="loginPanel" class="bg-white rounded-lg shadow-sm p-6">
            {% if error %}
            <div class="mb-4 text-sm text-red-700 bg-red-50 border border-red-100 rounded-md p-3">{{ error }}</div>
            {% endif %}

            <form id="login-form" action="{{ url_for('login') }}" method="post" class="flex flex-col gap-4">
                <label for="username" class="text-sm font-medium text-gray-700">Usuario</label>
                <input
                    id="username"
                    name="username"
                    type="text"
                    value="{{ username or '' }}"
                    placeholder="usuario"
                    autocomplete="username"
                    required
                    class="border border-gray-300 rounded-md px-3 py-2 shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-400"
                />

                <label for="password" class="text-sm font-medium text-gray-700">Contrase침a</label>
                <input
                    id="password"
                    name="password"
                    type="password"
                    required
                    class="border border-gray-300 rounded-md px-3 py-2 shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-400"
                />

                <div class="flex items-center gap-3">
                    <button
                        type="submit"
                        id="btnLogin"
                        class="bg-indigo-600 text-white px-4 py-2 rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-400"
                    >
                        Entrar
                    </button>
                </div>
            </form>
        </section>
    </main>

<script>
document.addEventListener('DOMContentLoaded', function(){
    const input = document.getElementById('username');
    if (input) {
        input.focus();
        const val = input.value || '';
        if (input.setSelectionRange) {
            const len = val.length;
            input.setSelectionRange(len, len);
        }
    }
});
</script>
</body>
{% endblock %}